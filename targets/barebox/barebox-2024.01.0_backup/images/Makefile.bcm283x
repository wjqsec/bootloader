# SPDX-License-Identifier: GPL-2.0-only
#
# barebox image generation Makefile for BCM283x images
#

# New boards use board-dt-2nd.img as common binary
# and have the videocore pass the correct DT.
ifeq ($(CONFIG_32BIT),y)

pblb-$(CONFIG_MACH_RPI) += start_raspberry_pi1
FILE_barebox-raspberry-pi-1.img = start_raspberry_pi1.pblb
image-$(CONFIG_MACH_RPI) += barebox-raspberry-pi-1.img

pblb-$(CONFIG_MACH_RPI2) += start_raspberry_pi2
FILE_barebox-raspberry-pi-2.img = start_raspberry_pi2.pblb
image-$(CONFIG_MACH_RPI2) += barebox-raspberry-pi-2.img

pblb-$(CONFIG_MACH_RPI3) += start_raspberry_pi3
FILE_barebox-raspberry-pi-3.img = start_raspberry_pi3.pblb
image-$(CONFIG_MACH_RPI3) += barebox-raspberry-pi-3.img

pblb-$(CONFIG_MACH_RPI_CM3) += start_raspberry_pi_cm3
FILE_barebox-raspberry-pi-cm3.img = start_raspberry_pi_cm3.pblb
image-$(CONFIG_MACH_RPI_CM3) += barebox-raspberry-pi-cm3.img

endif

pblb-$(CONFIG_MACH_RPI_COMMON) += start_raspberry_pi_generic
FILE_barebox-raspberry-pi.img = start_raspberry_pi_generic.pblb
image-$(CONFIG_MACH_RPI_COMMON) += barebox-raspberry-pi.img
